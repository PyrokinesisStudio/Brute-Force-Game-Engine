BFG_INIT_PACKAGE(LoaderTest)

FILE(GLOB SOURCES
	*.cpp
)

FILE(GLOB HEADERS
	*.h
)

INCLUDE_DIRECTORIES(SYSTEM ${OGRE_INCLUDE_DIR})
INCLUDE_DIRECTORIES(${BoostLog_INCLUDE_DIR})
INCLUDE_DIRECTORIES(${Boost_INCLUDE_DIRS})
INCLUDE_DIRECTORIES(${BFG_ENGINE_INCLUDE_DIR})
INCLUDE_DIRECTORIES(..)	# For subdirectories
INCLUDE_DIRECTORIES(.)	# For subdirectories

ADD_EXECUTABLE(bfgLoaderTest ${SOURCES} ${HEADERS})

ADD_TEST(NAME LoaderTest
	WORKING_DIRECTORY "${PROJECT_SOURCE_DIR}/bin/Testing"
	COMMAND bfgLoaderTest
)

SET_TARGET_PROPERTIES(bfgLoaderTest PROPERTIES OUTPUT_NAME_DEBUG "bfgLoaderTest_d")

ADD_DEPENDENCIES(bfgCore CoreEnums)

TARGET_LINK_LIBRARIES(bfgLoaderTest
	${Boost_LIBRARIES}
	${BoostLog_LIBRARIES}
	bfgCore
	bfgModel
)

INSTALL(TARGETS bfgLoaderTest
	RUNTIME DESTINATION ${BFG_BIN_DIR}
	COMPONENT devel
)
